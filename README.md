# OPTCG AI Service

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ **OPTCG AI Service** ‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö AI Agent ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå, ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°, ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå (Simulation) ‡∏Ç‡∏≠‡∏á **One Piece Card Game** ‡πÇ‡∏î‡∏¢‡∏°‡∏∏‡πà‡∏á‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ LLM ‡πÅ‡∏•‡∏∞ Multi-Agent Systems ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤

### üéØ Project Scope & Specification (‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡πà‡∏≠)

‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á AI ‡∏ó‡∏µ‡πà "‡∏£‡∏π‡πâ‡∏à‡∏£‡∏¥‡∏á" ‡πÅ‡∏•‡∏∞ "‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏õ‡πá‡∏ô" ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö OPTCG:

1.  **Card Knowledge**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Effect, Attribute ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Hybrid Search: Vector + Structured Data).
2.  **Rule Understanding**: ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Flow ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô.
3.  **Simulation Engine**: ‡∏°‡∏µ Python Logic ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ (Battle Simulator) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤ Win Rate ‡∏Ç‡∏≠‡∏á Deck (‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï).
4.  **Meta Analysis**: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° Meta ‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î Deck (‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï).

---

### ‚úÖ What has been done (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß)

‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á **Phase 1: Foundation & Knowledge Base**

*   **Project Initialization**:
    *   [x] Setup Project Structure ‡πÅ‡∏•‡∏∞ Environment (`uv`).
    *   [x] ‡∏™‡∏£‡πâ‡∏≤‡∏á Git Repository.
*   **Data Ingestion Pipeline**:
    *   [x] ‡∏û‡∏±‡∏í‡∏ô‡∏≤ Script (`fetch_group_id.py`, `fetch_cards.py`) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å TCGPlayer API.
    *   [x] ‡∏£‡∏∞‡∏ö‡∏ö Filter ‡πÅ‡∏¢‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Card Product ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô JSON ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° Group ID (Series).
    *   [x] ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Raw Data ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Indexing ‡∏•‡∏á Vector DB.
    *   [x] **Knowledge Base Automation**: ‡∏™‡∏£‡πâ‡∏≤‡∏á `check_for_updates.py` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Pipeline (Fetch -> Install -> Index) ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥.
    *   [x] **Hybrid Search System**:
        *   Setup **ChromaDB** ‡∏û‡∏£‡πâ‡∏≠‡∏° **Gemini Embeddings**.
        *   ‡∏™‡∏£‡πâ‡∏≤‡∏á **Search Engine** ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á Semantic (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢) ‡πÅ‡∏•‡∏∞ Structured Filter (‡∏™‡∏µ, Cost, Type).
        *   ‡∏°‡∏µ Tool `query_cards.py` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤.

---

### üöÄ Future Plans (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠)

‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):

1.  **AI Agent Development (Next Step)**:
    *   [ ] ‡∏û‡∏±‡∏í‡∏ô‡∏≤ **LangGraph** Agent ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Search Tool ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ.
    *   [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á FastAPI Endpoint (`/api/chat`) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Frontend ‡∏´‡∏£‡∏∑‡∏≠ Client ‡∏≠‡∏∑‡πà‡∏ô‡πÜ.

2.  **Game Engine (Phase 2)**:
    *   [ ] ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Class Design (Game, Player, Card) ‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤ Python.
    *   [ ] ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Game Loop ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (Draw, Don!! Phase, Main Phase).

4.  **Simulation & Meta Agent (Phase 3-4)**:
    *   [ ] ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Data Deck List.
    *   [ ] ‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö Simulation ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Run ‡πÄ‡∏Å‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥.

---

### üõ† Technology Stack
*   **Language**: Python 3.10+
*   **Frameworks**: FastAPI, LangChain / LangGraph
*   **Database**: ChromaDB (Vector), JSON Files (Raw Data)
*   **Tools**: `uv` (Package Manager)
